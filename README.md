# TestTask Project

## Описание
Этот проект представляет собой веб-приложение на ASP.NET Core для загрузки, обработки и группировки данных о продуктах из Excel файла. Приложение использует Entity Framework для работы с базой данных и ClosedXML для работы с файлами Excel.

## Требования
- .NET 6.0 SDK или выше
- Visual Studio 2022
- PostgreSQL
- pgAdmin 4

## Установка
1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/AibeqO/TestTaskForTeqWorld.git
    cd TestTaskForTeqWorld
    ```

2. Откройте проект в Visual Studio 2022:
    - Запустите Visual Studio 2022.
    - Выберите "Open a project or solution".
    - Перейдите в папку с проектом и выберите файл решения `TestTask.sln`.

3. Установите необходимые библиотеки:
    - Visual Studio автоматически установит все необходимые пакеты при открытии решения. Если этого не произошло, откройте консоль диспетчера пакетов (Tools > NuGet Package Manager > Package Manager Console) и выполните команду:
    ```bash
    dotnet restore
    ```

## Настройка
1. **Установка PostgreSQL и pgAdmin 4**:
    - Скачайте и установите PostgreSQL с официального сайта: https://www.postgresql.org/download/
    - Скачайте и установите pgAdmin 4 с официального сайта: https://www.pgadmin.org/download/

2. **Создание базы данных**:
    - Откройте pgAdmin 4 и подключитесь к вашему серверу PostgreSQL.
    - Создайте новую базу данных, например, `TestTaskDb`.

3. **Строка подключения к базе данных**:
    - Откройте файл `appsettings.json`.
    - Добавьте или измените строку подключения к вашей базе данных:
    ```json
    {
      "ConnectionStrings": {
        "DefaultConnection": "Host=localhost;Database=TestTaskDb;Username=yourusername;Password=yourpassword"
      },
      "Logging": {
        "LogLevel": {
          "Default": "Information",
          "Microsoft.AspNetCore": "Warning"
        }
      },
      "AllowedHosts": "*"
    }
    ```

4. **Миграции базы данных**:
    - Примените миграции для создания базы данных:
    ```bash
    dotnet ef database update
    ```

## Использование
1. Запустите приложение:
    - В Visual Studio нажмите кнопку "IIS Express", "http" или "https" для запуска приложения.

2. Загрузите Excel файл с данными о продуктах. Формат файла должен быть следующим:
    - **Наименование**: Название продукта (столбец A)
    - **Единица измерения**: Единица измерения продукта (столбец B)
    - **Цена за единицу, евро**: Цена за единицу продукта (столбец C)
    - **Количество, шт.**: Количество продукта (столбец D)

    Пример:
    | Наименование          | Единица измерения | Цена за единицу, евро | Количество, шт. |
    |-----------------------|-------------------|-----------------------|-----------------|
    | Ручка                 | штука             | 1.5                   | 150             |
    | Бумага А4             | упаковка          | 2.6                   | 50              |
    | Доска маркерная       | штука             | 32                    | 11              |
    | Блокнот 100 страниц   | штука             | 10                    | 5               |

3. После загрузки файла данные будут отображены на странице. Вы можете нажать кнопку "Разделения списка товаров на группы товаров" для группировки продуктов.
